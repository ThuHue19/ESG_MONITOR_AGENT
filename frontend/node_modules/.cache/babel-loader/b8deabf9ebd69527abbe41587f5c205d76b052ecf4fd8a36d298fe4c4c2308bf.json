{"ast":null,"code":"var _jsxFileName = \"D:\\\\esg_monitor_agent\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport ArticleList from './components/ArticleList';\nimport ArticleDetail from './components/ArticleDetail';\nimport ReactMarkdown from 'react-markdown';\nimport EsgInfo from './components/EsgInfo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' ? 'http://localhost:8000' : 'https://esg-monitor-agent.onrender.com';\nconst companyToTicker = {\n  Tesla: 'TSLA',\n  'First Solar': 'FSLR',\n  'Brookfield Renewable': 'BEP',\n  'NextEra Energy': 'NEE',\n  Vestas: 'VWS',\n  Orsted: 'ORSTED.CO',\n  'Enphase Energy': 'ENPH',\n  'ATA Creativity Global': 'AACG'\n};\nconst companyList = Object.keys(companyToTicker);\nfunction App() {\n  _s();\n  const [input, setInput] = useState('');\n  const [articles, setArticles] = useState([]);\n  const [selectedArticle, setSelectedArticle] = useState(null);\n  const [analysis, setAnalysis] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [history, setHistory] = useState([]);\n  const [summaries, setSummaries] = useState({});\n  const [esgData, setEsgData] = useState({});\n  const [isQuestion, setIsQuestion] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const inputRef = useRef(null);\n  useEffect(() => {\n    const saved = localStorage.getItem('searchHistory');\n    if (saved) setHistory(JSON.parse(saved));\n  }, []);\n  const saveHistory = term => {\n    setHistory(prevHistory => {\n      const updated = [...new Set([term, ...prevHistory])].slice(0, 5);\n      localStorage.setItem('searchHistory', JSON.stringify(updated));\n      return updated;\n    });\n  };\n  const handleSpeech = () => {\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (!SpeechRecognition) {\n      setError('Speech recognition not supported in this browser.');\n      return;\n    }\n    const recognition = new SpeechRecognition();\n    recognition.lang = 'en-US';\n    recognition.onstart = () => {\n      setIsRecording(true);\n      setError('');\n    };\n    recognition.onresult = event => {\n      const transcript = event.results[0][0].transcript;\n      setInput(transcript);\n    };\n    recognition.onerror = event => {\n      console.error('Speech error:', event.error);\n      setError('Speech recognition failed.');\n      setIsRecording(false);\n    };\n    recognition.onend = () => {\n      setIsRecording(false);\n    };\n    recognition.start();\n  };\n  const handleSearch = () => {\n    if (!input.trim()) return;\n    setLoading(true);\n    setArticles([]);\n    setSelectedArticle(null);\n    setError('');\n    setSummaries({});\n    setEsgData({});\n    setIsQuestion(false);\n    const lowerInput = input.toLowerCase();\n    const questionCheck = lowerInput.includes('which') || lowerInput.includes('what') || lowerInput.includes('in the');\n    setIsQuestion(questionCheck);\n    if (questionCheck) {\n      fetch(`${API_BASE}/api/search_query`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          question: input\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.error) {\n          setError(data.error);\n        } else {\n          var _data$environment_sco, _data$social_score, _data$governance_scor, _data$total_score;\n          const company = data.company || input;\n          setEsgData({\n            [company]: data\n          });\n          setSummaries({\n            [company]: `ESG Scores: Environmental ${(_data$environment_sco = data.environment_score) !== null && _data$environment_sco !== void 0 ? _data$environment_sco : 'N/A'}, Social ${(_data$social_score = data.social_score) !== null && _data$social_score !== void 0 ? _data$social_score : 'N/A'}, Governance ${(_data$governance_scor = data.governance_score) !== null && _data$governance_scor !== void 0 ? _data$governance_scor : 'N/A'}, Total ${(_data$total_score = data.total_score) !== null && _data$total_score !== void 0 ? _data$total_score : 'N/A'}`\n          });\n          fetch(`${API_BASE}/api/analyze_companies`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              companies: [company]\n            })\n          }).then(res => res.json()).then(companyData => {\n            const allArticles = [];\n            companyData.forEach(c => {\n              c.articles.forEach(article => {\n                allArticles.push({\n                  ...article,\n                  company: c.company\n                });\n              });\n            });\n            setArticles(allArticles);\n          }).catch(() => setError('Failed to fetch articles.'));\n        }\n        saveHistory(input);\n      }).catch(() => {\n        setError('Error connecting to backend.');\n      }).finally(() => setLoading(false));\n    } else {\n      const names = input.split(/,| and | & /i).map(n => n.trim()).filter(n => n.length > 0);\n      if (names.length === 0) {\n        setError('Please enter valid company names or a query.');\n        setLoading(false);\n        return;\n      }\n      fetch(`${API_BASE}/api/analyze_companies`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          companies: names\n        })\n      }).then(res => res.json()).then(data => {\n        const allArticles = [];\n        const newSummaries = {};\n        const newEsgData = {};\n        data.forEach(companyData => {\n          companyData.articles.forEach(article => {\n            allArticles.push({\n              ...article,\n              company: companyData.company\n            });\n          });\n          newSummaries[companyData.company] = companyData.overall_summary;\n          if (companyData.esg) {\n            newEsgData[companyData.company] = companyData.esg;\n          }\n        });\n        if (allArticles.length === 0) {\n          setError('No articles found.');\n        }\n        setArticles(allArticles);\n        setSummaries(newSummaries);\n        setEsgData(newEsgData);\n        saveHistory(input);\n      }).catch(() => {\n        setError('Error connecting to backend.');\n      }).finally(() => setLoading(false));\n    }\n  };\n  const handleSelectArticle = article => {\n    setSelectedArticle(article);\n    setAnalysis(article.analysis || 'No analysis available');\n  };\n  const handleHistoryClick = term => {\n    setInput(term);\n    setTimeout(() => {\n      if (inputRef.current) inputRef.current.focus();\n    }, 10);\n  };\n  const handleInputKeyDown = e => {\n    if (e.key === 'Enter') {\n      handleSearch();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 800,\n      margin: 'auto',\n      padding: 20,\n      fontFamily: 'Montserrat, sans-serif',\n      position: 'relative'\n    },\n    children: [isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.4)',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        zIndex: 9999\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 150,\n          height: 150,\n          backgroundColor: '#0d47a1',\n          borderRadius: '50%',\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          boxShadow: '0 0 20px 5px #2196f3'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          fill: \"white\",\n          viewBox: \"0 0 24 24\",\n          width: \"80\",\n          height: \"80\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M3 10v4h4l5 5V5L7 10H3z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M16.5 12a4.5 4.5 0 0 1-1.24 3.18l1.43 1.43A6 6 0 0 0 18 12a6 6 0 0 0-1.31-3.76l-1.43 1.43A4.5 4.5 0 0 1 16.5 12z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M14 3.23v2.06a7.98 7.98 0 0 1 3.56 3.56h2.06a9.98 9.98 0 0 0-5.62-5.62z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          color: '#0d47a1'\n        },\n        children: \"ESG News Monitor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://www.nus.edu.sg/images/default-source/identity-images/NUS_logo_full-horizontal.jpg\",\n          alt: \"NUS Logo\",\n          style: {\n            height: 120\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://ohh12.hcmut.edu.vn/img/news/RQ6hG8A_M89fTWtFX8YYwNPJ.jpg\",\n          alt: \"HUS Logo\",\n          style: {\n            height: 72,\n            borderRadius: 8\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 10,\n        display: 'flex',\n        gap: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: inputRef,\n        value: input,\n        onChange: e => setInput(e.target.value),\n        onKeyDown: handleInputKeyDown,\n        placeholder: \"Enter company names or a query (e.g., Which is the ESG score of ATA Creativity Global?)\",\n        style: {\n          padding: 10,\n          width: '100%',\n          maxWidth: 600,\n          borderRadius: 8,\n          border: '1px solid #2196f3',\n          outlineColor: '#1976d2',\n          fontSize: 16,\n          fontFamily: 'Montserrat, sans-serif',\n          color: input.trim() ? '#0d47a1' : '#555',\n          transition: 'color 0.3s'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSearch,\n        style: {\n          padding: '10px 15px',\n          borderRadius: 20,\n          backgroundColor: '#2196f3',\n          border: 'none',\n          color: 'white',\n          fontWeight: 'bold',\n          fontSize: 16,\n          fontFamily: 'Montserrat, sans-serif',\n          cursor: 'pointer',\n          transition: 'background-color 0.3s'\n        },\n        onMouseEnter: e => e.currentTarget.style.backgroundColor = '#1976d2',\n        onMouseLeave: e => e.currentTarget.style.backgroundColor = '#2196f3',\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSpeech,\n        disabled: isRecording,\n        style: {\n          padding: '14px 20px',\n          borderRadius: 18,\n          backgroundColor: isRecording ? '#a0cfff' : '#64b5f6',\n          border: 'none',\n          color: 'white',\n          fontWeight: 'bold',\n          fontSize: 16,\n          fontFamily: 'Montserrat, sans-serif',\n          cursor: isRecording ? 'not-allowed' : 'pointer',\n          transition: 'background-color 0.3s'\n        },\n        onMouseEnter: e => {\n          if (!isRecording) e.currentTarget.style.backgroundColor = '#42a5f5';\n        },\n        onMouseLeave: e => {\n          if (!isRecording) e.currentTarget.style.backgroundColor = '#64b5f6';\n        },\n        children: \"\\uD83C\\uDFA4 Speak\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), history.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        style: {\n          color: '#0d47a1'\n        },\n        children: \"Search History:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          paddingLeft: 15,\n          fontFamily: 'Montserrat, sans-serif',\n          fontSize: 18,\n          color: '#0d47a1'\n        },\n        children: history.map((h, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            cursor: 'pointer',\n            padding: 4,\n            borderRadius: 5\n          },\n          tabIndex: 0,\n          onClick: () => handleHistoryClick(h),\n          onKeyDown: e => {\n            if (e.key === 'Enter') {\n              handleHistoryClick(h);\n              handleSearch();\n            }\n          },\n          onMouseEnter: e => e.currentTarget.style.backgroundColor = '#bbdefb',\n          onMouseLeave: e => e.currentTarget.style.backgroundColor = 'transparent',\n          children: h\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: '#0d47a1'\n      },\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 17\n    }, this), Object.entries(summaries).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20,\n        background: '#e3f2fd',\n        padding: 15,\n        borderRadius: 8,\n        border: '1px solid #90caf9'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: '#0d47a1'\n        },\n        children: \"Company Summaries\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 11\n      }, this), Object.entries(summaries).map(([company, summary], idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 20,\n          background: `rgba(13, 71, 161, ${(0.1 + idx * 0.15).toFixed(2)})`,\n          padding: 15,\n          borderRadius: 8,\n          color: '#0d47a1',\n          fontFamily: 'Montserrat, sans-serif',\n          lineHeight: 1.6,\n          boxShadow: '0 2px 6px rgba(0,0,0,0.05)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: company\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(EsgInfo, {\n          symbol: companyToTicker[company] || company,\n          esgData: esgData[company]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Investment Recommendation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n          children: summary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 15\n        }, this)]\n      }, company, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ArticleList, {\n      articles: articles,\n      onSelect: handleSelectArticle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 7\n    }, this), selectedArticle && /*#__PURE__*/_jsxDEV(ArticleDetail, {\n      article: selectedArticle,\n      analysis: analysis\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 27\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      style: {\n        marginTop: 40,\n        paddingTop: 20,\n        borderTop: '1px solid #90caf9',\n        textAlign: 'center',\n        color: '#0d47a1',\n        fontSize: 14,\n        fontFamily: 'Montserrat, sans-serif'\n      },\n      children: [\"Developed by \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Nguyen Thi Thu Hue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 22\n      }, this), \" VNU University of Science, 2025\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"v4s7qY21R4Gs5WWcXvKg8vcjGVU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","ArticleList","ArticleDetail","ReactMarkdown","EsgInfo","jsxDEV","_jsxDEV","API_BASE","window","location","hostname","companyToTicker","Tesla","Vestas","Orsted","companyList","Object","keys","App","_s","input","setInput","articles","setArticles","selectedArticle","setSelectedArticle","analysis","setAnalysis","loading","setLoading","error","setError","history","setHistory","summaries","setSummaries","esgData","setEsgData","isQuestion","setIsQuestion","isRecording","setIsRecording","inputRef","saved","localStorage","getItem","JSON","parse","saveHistory","term","prevHistory","updated","Set","slice","setItem","stringify","handleSpeech","SpeechRecognition","webkitSpeechRecognition","recognition","lang","onstart","onresult","event","transcript","results","onerror","console","onend","start","handleSearch","trim","lowerInput","toLowerCase","questionCheck","includes","fetch","method","headers","body","question","then","res","json","data","_data$environment_sco","_data$social_score","_data$governance_scor","_data$total_score","company","environment_score","social_score","governance_score","total_score","companies","companyData","allArticles","forEach","c","article","push","catch","finally","names","split","map","n","filter","length","newSummaries","newEsgData","overall_summary","esg","handleSelectArticle","handleHistoryClick","setTimeout","current","focus","handleInputKeyDown","e","key","style","maxWidth","margin","padding","fontFamily","position","children","top","left","right","bottom","backgroundColor","display","justifyContent","alignItems","zIndex","width","height","borderRadius","boxShadow","xmlns","fill","viewBox","d","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","color","gap","src","alt","ref","value","onChange","target","onKeyDown","placeholder","border","outlineColor","fontSize","transition","onClick","fontWeight","cursor","onMouseEnter","currentTarget","onMouseLeave","disabled","marginTop","paddingLeft","h","i","tabIndex","entries","background","summary","idx","toFixed","lineHeight","symbol","onSelect","paddingTop","borderTop","textAlign","_c","$RefreshReg$"],"sources":["D:/esg_monitor_agent/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport ArticleList from './components/ArticleList';\r\nimport ArticleDetail from './components/ArticleDetail';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport EsgInfo from './components/EsgInfo';\r\n\r\nconst API_BASE =\r\n  window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1'\r\n    ? 'http://localhost:8000'\r\n    : 'https://esg-monitor-agent.onrender.com';\r\n\r\nconst companyToTicker = {\r\n  Tesla: 'TSLA',\r\n  'First Solar': 'FSLR',\r\n  'Brookfield Renewable': 'BEP',\r\n  'NextEra Energy': 'NEE',\r\n  Vestas: 'VWS',\r\n  Orsted: 'ORSTED.CO',\r\n  'Enphase Energy': 'ENPH',\r\n  'ATA Creativity Global': 'AACG',\r\n};\r\n\r\nconst companyList = Object.keys(companyToTicker);\r\n\r\nfunction App() {\r\n  const [input, setInput] = useState('');\r\n  const [articles, setArticles] = useState([]);\r\n  const [selectedArticle, setSelectedArticle] = useState(null);\r\n  const [analysis, setAnalysis] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [history, setHistory] = useState([]);\r\n  const [summaries, setSummaries] = useState({});\r\n  const [esgData, setEsgData] = useState({});\r\n  const [isQuestion, setIsQuestion] = useState(false);\r\n  const [isRecording, setIsRecording] = useState(false);\r\n\r\n  const inputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem('searchHistory');\r\n    if (saved) setHistory(JSON.parse(saved));\r\n  }, []);\r\n\r\n  const saveHistory = (term) => {\r\n    setHistory(prevHistory => {\r\n      const updated = [...new Set([term, ...prevHistory])].slice(0, 5);\r\n      localStorage.setItem('searchHistory', JSON.stringify(updated));\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  const handleSpeech = () => {\r\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n    if (!SpeechRecognition) {\r\n      setError('Speech recognition not supported in this browser.');\r\n      return;\r\n    }\r\n    const recognition = new SpeechRecognition();\r\n    recognition.lang = 'en-US';\r\n\r\n    recognition.onstart = () => {\r\n      setIsRecording(true);\r\n      setError('');\r\n    };\r\n\r\n    recognition.onresult = (event) => {\r\n      const transcript = event.results[0][0].transcript;\r\n      setInput(transcript);\r\n    };\r\n\r\n    recognition.onerror = (event) => {\r\n      console.error('Speech error:', event.error);\r\n      setError('Speech recognition failed.');\r\n      setIsRecording(false);\r\n    };\r\n\r\n    recognition.onend = () => {\r\n      setIsRecording(false);\r\n    };\r\n\r\n    recognition.start();\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    if (!input.trim()) return;\r\n\r\n    setLoading(true);\r\n    setArticles([]);\r\n    setSelectedArticle(null);\r\n    setError('');\r\n    setSummaries({});\r\n    setEsgData({});\r\n    setIsQuestion(false);\r\n\r\n    const lowerInput = input.toLowerCase();\r\n    const questionCheck = lowerInput.includes('which') || lowerInput.includes('what') || lowerInput.includes('in the');\r\n    setIsQuestion(questionCheck);\r\n\r\n    if (questionCheck) {\r\n      fetch(`${API_BASE}/api/search_query`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ question: input }),\r\n      })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          if (data.error) {\r\n            setError(data.error);\r\n          } else {\r\n            const company = data.company || input;\r\n            setEsgData({ [company]: data });\r\n            setSummaries({\r\n              [company]: `ESG Scores: Environmental ${data.environment_score ?? 'N/A'}, Social ${data.social_score ?? 'N/A'}, Governance ${data.governance_score ?? 'N/A'}, Total ${data.total_score ?? 'N/A'}`,\r\n            });\r\n            fetch(`${API_BASE}/api/analyze_companies`, {\r\n              method: 'POST',\r\n              headers: { 'Content-Type': 'application/json' },\r\n              body: JSON.stringify({ companies: [company] }),\r\n            })\r\n              .then(res => res.json())\r\n              .then(companyData => {\r\n                const allArticles = [];\r\n                companyData.forEach(c => {\r\n                  c.articles.forEach(article => {\r\n                    allArticles.push({ ...article, company: c.company });\r\n                  });\r\n                });\r\n                setArticles(allArticles);\r\n              })\r\n              .catch(() => setError('Failed to fetch articles.'));\r\n          }\r\n          saveHistory(input);\r\n        })\r\n        .catch(() => {\r\n          setError('Error connecting to backend.');\r\n        })\r\n        .finally(() => setLoading(false));\r\n    } else {\r\n      const names = input\r\n        .split(/,| and | & /i)\r\n        .map(n => n.trim())\r\n        .filter(n => n.length > 0);\r\n\r\n      if (names.length === 0) {\r\n        setError('Please enter valid company names or a query.');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      fetch(`${API_BASE}/api/analyze_companies`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ companies: names }),\r\n      })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          const allArticles = [];\r\n          const newSummaries = {};\r\n          const newEsgData = {};\r\n\r\n          data.forEach(companyData => {\r\n            companyData.articles.forEach(article => {\r\n              allArticles.push({ ...article, company: companyData.company });\r\n            });\r\n\r\n            newSummaries[companyData.company] = companyData.overall_summary;\r\n\r\n            if (companyData.esg) {\r\n              newEsgData[companyData.company] = companyData.esg;\r\n            }\r\n          });\r\n\r\n          if (allArticles.length === 0) {\r\n            setError('No articles found.');\r\n          }\r\n\r\n          setArticles(allArticles);\r\n          setSummaries(newSummaries);\r\n          setEsgData(newEsgData);\r\n          saveHistory(input);\r\n        })\r\n        .catch(() => {\r\n          setError('Error connecting to backend.');\r\n        })\r\n        .finally(() => setLoading(false));\r\n    }\r\n  };\r\n\r\n  const handleSelectArticle = (article) => {\r\n    setSelectedArticle(article);\r\n    setAnalysis(article.analysis || 'No analysis available');\r\n  };\r\n\r\n  const handleHistoryClick = (term) => {\r\n    setInput(term);\r\n    setTimeout(() => {\r\n      if (inputRef.current) inputRef.current.focus();\r\n    }, 10);\r\n  };\r\n\r\n  const handleInputKeyDown = (e) => {\r\n    if (e.key === 'Enter') {\r\n      handleSearch();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 800, margin: 'auto', padding: 20, fontFamily: 'Montserrat, sans-serif', position: 'relative' }}>\r\n      {isRecording && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0, left: 0, right: 0, bottom: 0,\r\n          backgroundColor: 'rgba(0,0,0,0.4)',\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          zIndex: 9999,\r\n        }}>\r\n          <div style={{\r\n            width: 150,\r\n            height: 150,\r\n            backgroundColor: '#0d47a1',\r\n            borderRadius: '50%',\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            boxShadow: '0 0 20px 5px #2196f3',\r\n          }}>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"white\" viewBox=\"0 0 24 24\" width=\"80\" height=\"80\">\r\n              <path d=\"M3 10v4h4l5 5V5L7 10H3z\"/>\r\n              <path d=\"M16.5 12a4.5 4.5 0 0 1-1.24 3.18l1.43 1.43A6 6 0 0 0 18 12a6 6 0 0 0-1.31-3.76l-1.43 1.43A4.5 4.5 0 0 1 16.5 12z\"/>\r\n              <path d=\"M14 3.23v2.06a7.98 7.98 0 0 1 3.56 3.56h2.06a9.98 9.98 0 0 0-5.62-5.62z\"/>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <header style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 20 }}>\r\n        <h1 style={{ color: '#0d47a1' }}>ESG News Monitor</h1>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: 16 }}>\r\n          <img src=\"https://www.nus.edu.sg/images/default-source/identity-images/NUS_logo_full-horizontal.jpg\" alt=\"NUS Logo\" style={{ height: 120 }} />\r\n          <img src=\"https://ohh12.hcmut.edu.vn/img/news/RQ6hG8A_M89fTWtFX8YYwNPJ.jpg\" alt=\"HUS Logo\" style={{ height: 72, borderRadius: 8 }} />\r\n        </div>\r\n      </header>\r\n\r\n      <div style={{ marginBottom: 10, display: 'flex', gap: 10 }}>\r\n        <input\r\n          ref={inputRef}\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          onKeyDown={handleInputKeyDown}\r\n          placeholder=\"Enter company names or a query (e.g., Which is the ESG score of ATA Creativity Global?)\"\r\n          style={{\r\n            padding: 10,\r\n            width: '100%',\r\n            maxWidth: 600,\r\n            borderRadius: 8,\r\n            border: '1px solid #2196f3',\r\n            outlineColor: '#1976d2',\r\n            fontSize: 16,\r\n            fontFamily: 'Montserrat, sans-serif',\r\n            color: input.trim() ? '#0d47a1' : '#555',\r\n            transition: 'color 0.3s',\r\n          }}\r\n        />\r\n        <button\r\n          onClick={handleSearch}\r\n          style={{\r\n            padding: '10px 15px',\r\n            borderRadius: 20,\r\n            backgroundColor: '#2196f3',\r\n            border: 'none',\r\n            color: 'white',\r\n            fontWeight: 'bold',\r\n            fontSize: 16,\r\n            fontFamily: 'Montserrat, sans-serif',\r\n            cursor: 'pointer',\r\n            transition: 'background-color 0.3s',\r\n          }}\r\n          onMouseEnter={e => e.currentTarget.style.backgroundColor = '#1976d2'}\r\n          onMouseLeave={e => e.currentTarget.style.backgroundColor = '#2196f3'}\r\n        >\r\n          Search\r\n        </button>\r\n        <button\r\n          onClick={handleSpeech}\r\n          disabled={isRecording}\r\n          style={{\r\n            padding: '14px 20px',\r\n            borderRadius: 18,\r\n            backgroundColor: isRecording ? '#a0cfff' : '#64b5f6',\r\n            border: 'none',\r\n            color: 'white',\r\n            fontWeight: 'bold',\r\n            fontSize: 16,\r\n            fontFamily: 'Montserrat, sans-serif',\r\n            cursor: isRecording ? 'not-allowed' : 'pointer',\r\n            transition: 'background-color 0.3s',\r\n          }}\r\n          onMouseEnter={e => {\r\n            if (!isRecording) e.currentTarget.style.backgroundColor = '#42a5f5';\r\n          }}\r\n          onMouseLeave={e => {\r\n            if (!isRecording) e.currentTarget.style.backgroundColor = '#64b5f6';\r\n          }}\r\n        >\r\n          🎤 Speak\r\n        </button>\r\n      </div>\r\n\r\n      {history.length > 0 && (\r\n        <div style={{ marginTop: 10 }}>\r\n          <strong style={{ color: '#0d47a1' }}>Search History:</strong>\r\n          <ul style={{ paddingLeft: 15, fontFamily: 'Montserrat, sans-serif', fontSize: 18, color: '#0d47a1' }}>\r\n            {history.map((h, i) => (\r\n              <li\r\n                key={i}\r\n                style={{\r\n                  cursor: 'pointer',\r\n                  padding: 4,\r\n                  borderRadius: 5,\r\n                }}\r\n                tabIndex={0}\r\n                onClick={() => handleHistoryClick(h)}\r\n                onKeyDown={e => {\r\n                  if (e.key === 'Enter') {\r\n                    handleHistoryClick(h);\r\n                    handleSearch();\r\n                  }\r\n                }}\r\n                onMouseEnter={e => e.currentTarget.style.backgroundColor = '#bbdefb'}\r\n                onMouseLeave={e => e.currentTarget.style.backgroundColor = 'transparent'}\r\n              >\r\n                {h}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      {loading && <p style={{ color: '#0d47a1' }}>Loading...</p>}\r\n      {error && <p style={{ color: 'red' }}>{error}</p>}\r\n\r\n      {Object.entries(summaries).length > 0 && (\r\n        <div style={{ marginTop: 20, background: '#e3f2fd', padding: 15, borderRadius: 8, border: '1px solid #90caf9' }}>\r\n          <h2 style={{ color: '#0d47a1' }}>Company Summaries</h2>\r\n          {Object.entries(summaries).map(([company, summary], idx) => (\r\n            <div\r\n              key={company}\r\n              style={{\r\n                marginBottom: 20,\r\n                background: `rgba(13, 71, 161, ${(0.1 + idx * 0.15).toFixed(2)})`,\r\n                padding: 15,\r\n                borderRadius: 8,\r\n                color: '#0d47a1',\r\n                fontFamily: 'Montserrat, sans-serif',\r\n                lineHeight: 1.6,\r\n                boxShadow: '0 2px 6px rgba(0,0,0,0.05)',\r\n              }}\r\n            >\r\n              <h3>{company}</h3>\r\n              <EsgInfo\r\n                symbol={companyToTicker[company] || company}\r\n                esgData={esgData[company]}\r\n              />\r\n              <h4>Investment Recommendation</h4>\r\n              <ReactMarkdown>{summary}</ReactMarkdown>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      <ArticleList articles={articles} onSelect={handleSelectArticle} />\r\n      {selectedArticle && <ArticleDetail article={selectedArticle} analysis={analysis} />}\r\n\r\n      <footer\r\n        style={{\r\n          marginTop: 40,\r\n          paddingTop: 20,\r\n          borderTop: '1px solid #90caf9',\r\n          textAlign: 'center',\r\n          color: '#0d47a1',\r\n          fontSize: 14,\r\n          fontFamily: 'Montserrat, sans-serif',\r\n        }}\r\n      >\r\n        Developed by <strong>Nguyen Thi Thu Hue</strong> VNU University of Science, 2025\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}